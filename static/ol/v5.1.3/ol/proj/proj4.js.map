{"version":3,"file":"proj4.js","sources":["../../../src/ol/proj/proj4.js"],"sourcesContent":["/**\r\n * @module ol/proj/proj4\r\n */\r\nimport {addCoordinateTransforms, addProjection, addEquivalentProjections, get} from '../proj.js';\r\nimport {get as getTransform} from './transforms.js';\r\nimport Projection from './Projection.js';\r\n\r\n/**\r\n * Make projections defined in proj4 (with `proj4.defs()`) available in\r\n * OpenLayers.\r\n *\r\n * This function should be called whenever changes are made to the proj4\r\n * registry, e.g. after calling `proj4.defs()`. Existing transforms will not be\r\n * modified by this function.\r\n *\r\n * @param {?} proj4 Proj4.\r\n * @api\r\n */\r\nexport function register(proj4) {\r\n  const projCodes = Object.keys(proj4.defs);\r\n  const len = projCodes.length;\r\n  let i, j;\r\n  for (i = 0; i < len; ++i) {\r\n    const code = projCodes[i];\r\n    if (!get(code)) {\r\n      const def = proj4.defs(code);\r\n      addProjection(new Projection({\r\n        code: code,\r\n        axisOrientation: def.axis,\r\n        metersPerUnit: def.to_meter,\r\n        units: def.units\r\n      }));\r\n    }\r\n  }\r\n  for (i = 0; i < len; ++i) {\r\n    const code1 = projCodes[i];\r\n    const proj1 = get(code1);\r\n    for (j = 0; j < len; ++j) {\r\n      const code2 = projCodes[j];\r\n      const proj2 = get(code2);\r\n      if (!getTransform(code1, code2)) {\r\n        if (proj4.defs[code1] === proj4.defs[code2]) {\r\n          addEquivalentProjections([proj1, proj2]);\r\n        } else {\r\n          const transform = proj4(code1, code2);\r\n          addCoordinateTransforms(proj1, proj2, transform.forward, transform.inverse);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"names":["const","let"],"mappings":"AAAA;;;AAGA,QAAQ,uBAAuB,EAAE,aAAa,EAAE,wBAAwB,EAAE,GAAG,OAAO,YAAY,CAAC;AACjG,QAAQ,GAAG,IAAI,YAAY,OAAO,iBAAiB,CAAC;AACpD,OAAO,UAAU,MAAM,iBAAiB,CAAC;;;;;;;;;;;;;AAazC,OAAO,SAAS,QAAQ,CAAC,KAAK,EAAE;EAC9BA,GAAK,CAAC,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;EAC1CA,GAAK,CAAC,GAAG,GAAG,SAAS,CAAC,MAAM,CAAC;EAC7BC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;EACT,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;IACxBD,GAAK,CAAC,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC1B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;MACdA,GAAK,CAAC,GAAG,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;MAC7B,aAAa,CAAC,IAAI,UAAU,CAAC;QAC3B,IAAI,EAAE,IAAI;QACV,eAAe,EAAE,GAAG,CAAC,IAAI;QACzB,aAAa,EAAE,GAAG,CAAC,QAAQ;QAC3B,KAAK,EAAE,GAAG,CAAC,KAAK;OACjB,CAAC,CAAC,CAAC;KACL;GACF;EACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;IACxBA,GAAK,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC3BA,GAAK,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;IACzB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;MACxBA,GAAK,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;MAC3BA,GAAK,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;MACzB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE;QAC/B,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;UAC3C,wBAAwB,CAAC,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;SAC1C,MAAM;UACLA,GAAK,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;UACtC,uBAAuB,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,CAAC,OAAO,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;SAC7E;OACF;KACF;GACF;CACF;"}