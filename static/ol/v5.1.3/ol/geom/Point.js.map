{"version":3,"file":"Point.js","sources":["../../../src/ol/geom/Point.js"],"sourcesContent":["/**\r\n * @module ol/geom/Point\r\n */\r\nimport {createOrUpdateFromCoordinate, containsXY} from '../extent.js';\r\nimport GeometryType from '../geom/GeometryType.js';\r\nimport SimpleGeometry from '../geom/SimpleGeometry.js';\r\nimport {deflateCoordinate} from '../geom/flat/deflate.js';\r\nimport {squaredDistance as squaredDx} from '../math.js';\r\n\r\n/**\r\n * @classdesc\r\n * Point geometry.\r\n *\r\n * @api\r\n */\r\nclass Point extends SimpleGeometry {\r\n\r\n  /**\r\n   * @param {module:ol/coordinate~Coordinate} coordinates Coordinates.\r\n   * @param {module:ol/geom/GeometryLayout=} opt_layout Layout.\r\n   */\r\n  constructor(coordinates, opt_layout) {\r\n    super();\r\n    this.setCoordinates(coordinates, opt_layout);\r\n  }\r\n\r\n  /**\r\n   * Make a complete copy of the geometry.\r\n   * @return {!module:ol/geom/Point} Clone.\r\n   * @override\r\n   * @api\r\n   */\r\n  clone() {\r\n    const point = new Point(this.flatCoordinates.slice(), this.layout);\r\n    return point;\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   */\r\n  closestPointXY(x, y, closestPoint, minSquaredDistance) {\r\n    const flatCoordinates = this.flatCoordinates;\r\n    const squaredDistance = squaredDx(x, y, flatCoordinates[0], flatCoordinates[1]);\r\n    if (squaredDistance < minSquaredDistance) {\r\n      const stride = this.stride;\r\n      for (let i = 0; i < stride; ++i) {\r\n        closestPoint[i] = flatCoordinates[i];\r\n      }\r\n      closestPoint.length = stride;\r\n      return squaredDistance;\r\n    } else {\r\n      return minSquaredDistance;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the coordinate of the point.\r\n   * @return {module:ol/coordinate~Coordinate} Coordinates.\r\n   * @override\r\n   * @api\r\n   */\r\n  getCoordinates() {\r\n    return !this.flatCoordinates ? [] : this.flatCoordinates.slice();\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   */\r\n  computeExtent(extent) {\r\n    return createOrUpdateFromCoordinate(this.flatCoordinates, extent);\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   * @api\r\n   */\r\n  getType() {\r\n    return GeometryType.POINT;\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   * @api\r\n   */\r\n  intersectsExtent(extent) {\r\n    return containsXY(extent, this.flatCoordinates[0], this.flatCoordinates[1]);\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   * @api\r\n   */\r\n  setCoordinates(coordinates, opt_layout) {\r\n    this.setLayout(opt_layout, coordinates, 0);\r\n    if (!this.flatCoordinates) {\r\n      this.flatCoordinates = [];\r\n    }\r\n    this.flatCoordinates.length = deflateCoordinate(\r\n      this.flatCoordinates, 0, coordinates, this.stride);\r\n    this.changed();\r\n  }\r\n}\r\n\r\n\r\nexport default Point;\r\n"],"names":["super","const","let"],"mappings":"AAAA;;;AAGA,QAAQ,4BAA4B,EAAE,UAAU,OAAO,cAAc,CAAC;AACtE,OAAO,YAAY,MAAM,yBAAyB,CAAC;AACnD,OAAO,cAAc,MAAM,2BAA2B,CAAC;AACvD,QAAQ,iBAAiB,OAAO,yBAAyB,CAAC;AAC1D,QAAQ,eAAe,IAAI,SAAS,OAAO,YAAY,CAAC;;;;;;;;AAQxD,IAAM,KAAK,GAAuB;EAMhC,cAAW,CAAC,WAAW,EAAE,UAAU,EAAE;IACnCA,mBAAK,KAAC,CAAC,CAAC;IACR,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;;;;;sCAC9C;;;;;;;;kBAQD,uBAAK,GAAG;IACNC,GAAK,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACnE,OAAO,KAAK,CAAC;IACd;;;;;kBAKD,yCAAc,CAAC,CAAC,EAAE,CAAC,EAAE,YAAY,EAAE,kBAAkB,EAAE;IACrDA,GAAK,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;IAC7CA,GAAK,CAAC,eAAe,GAAG,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,eAAe,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;IAChF,IAAI,eAAe,GAAG,kBAAkB,EAAE;MACxCA,GAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;MAC3B,KAAKC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,EAAE,CAAC,EAAE;QAC/B,YAAY,CAAC,CAAC,CAAC,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC;OACtC;MACD,YAAY,CAAC,MAAM,GAAG,MAAM,CAAC;MAC7B,OAAO,eAAe,CAAC;KACxB,MAAM;MACL,OAAO,kBAAkB,CAAC;KAC3B;IACF;;;;;;;;kBAQD,yCAAc,GAAG;IACf,OAAO,CAAC,IAAI,CAAC,eAAe,GAAG,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;IAClE;;;;;kBAKD,uCAAa,CAAC,MAAM,EAAE;IACpB,OAAO,4BAA4B,CAAC,IAAI,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IACnE;;;;;;kBAMD,2BAAO,GAAG;IACR,OAAO,YAAY,CAAC,KAAK,CAAC;IAC3B;;;;;;kBAMD,6CAAgB,CAAC,MAAM,EAAE;IACvB,OAAO,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7E;;;;;;kBAMD,yCAAc,CAAC,WAAW,EAAE,UAAU,EAAE;IACtC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,WAAW,EAAE,CAAC,CAAC,CAAC;IAC3C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;MACzB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;KAC3B;IACD,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,iBAAiB;MAC7C,IAAI,CAAC,eAAe,EAAE,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IACrD,IAAI,CAAC,OAAO,EAAE,CAAC;GAChB;;;EArFiB,iBAsFnB;;;AAGD,eAAe,KAAK,CAAC;"}