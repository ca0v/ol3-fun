{"version":3,"file":"DoubleClickZoom.js","sources":["../../../src/ol/interaction/DoubleClickZoom.js"],"sourcesContent":["/**\r\n * @module ol/interaction/DoubleClickZoom\r\n */\r\nimport MapBrowserEventType from '../MapBrowserEventType.js';\r\nimport Interaction, {zoomByDelta} from '../interaction/Interaction.js';\r\n\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {number} [duration=250] Animation duration in milliseconds.\r\n * @property {number} [delta=1] The zoom delta applied on each double click.\r\n */\r\n\r\n\r\n/**\r\n * @classdesc\r\n * Allows the user to zoom by double-clicking on the map.\r\n * @api\r\n */\r\nclass DoubleClickZoom extends Interaction {\r\n\r\n  /**\r\n   * @param {module:ol/interaction/DoubleClickZoom~Options=} opt_options Options.\r\n   */\r\n  constructor(opt_options) {\r\n    super({\r\n      handleEvent: handleEvent\r\n    });\r\n\r\n    const options = opt_options ? opt_options : {};\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.delta_ = options.delta ? options.delta : 1;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n/**\r\n * Handles the {@link module:ol/MapBrowserEvent map browser event} (if it was a\r\n * doubleclick) and eventually zooms the map.\r\n * @param {module:ol/MapBrowserEvent} mapBrowserEvent Map browser event.\r\n * @return {boolean} `false` to stop event propagation.\r\n * @this {module:ol/interaction/DoubleClickZoom}\r\n */\r\nfunction handleEvent(mapBrowserEvent) {\r\n  let stopEvent = false;\r\n  const browserEvent = mapBrowserEvent.originalEvent;\r\n  if (mapBrowserEvent.type == MapBrowserEventType.DBLCLICK) {\r\n    const map = mapBrowserEvent.map;\r\n    const anchor = mapBrowserEvent.coordinate;\r\n    const delta = browserEvent.shiftKey ? -this.delta_ : this.delta_;\r\n    const view = map.getView();\r\n    zoomByDelta(view, delta, anchor, this.duration_);\r\n    mapBrowserEvent.preventDefault();\r\n    stopEvent = true;\r\n  }\r\n  return !stopEvent;\r\n}\r\n\r\nexport default DoubleClickZoom;\r\n"],"names":["super","const","let"],"mappings":"AAAA;;;AAGA,OAAO,mBAAmB,MAAM,2BAA2B,CAAC;AAC5D,OAAO,WAAW,GAAG,WAAW,OAAO,+BAA+B,CAAC;;;;;;;;;;;;;;;AAevE,IAAM,eAAe,GAAoB;EAKvC,wBAAW,CAAC,WAAW,EAAE;IACvBA,gBAAK,OAAC;MACJ,WAAW,EAAE,WAAW;KACzB,CAAC,CAAC;;IAEHC,GAAK,CAAC,OAAO,GAAG,WAAW,GAAG,WAAW,GAAG,EAAE,CAAC;;;;;;IAM/C,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC;;;;;;IAMhD,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,KAAK,SAAS,GAAG,OAAO,CAAC,QAAQ,GAAG,GAAG,CAAC;;;;;;GAE1E;;;EAxB2B,cA0B7B;;;;;;;;;;AAUD,SAAS,WAAW,CAAC,eAAe,EAAE;EACpCC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;EACtBD,GAAK,CAAC,YAAY,GAAG,eAAe,CAAC,aAAa,CAAC;EACnD,IAAI,eAAe,CAAC,IAAI,IAAI,mBAAmB,CAAC,QAAQ,EAAE;IACxDA,GAAK,CAAC,GAAG,GAAG,eAAe,CAAC,GAAG,CAAC;IAChCA,GAAK,CAAC,MAAM,GAAG,eAAe,CAAC,UAAU,CAAC;IAC1CA,GAAK,CAAC,KAAK,GAAG,YAAY,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IACjEA,GAAK,CAAC,IAAI,GAAG,GAAG,CAAC,OAAO,EAAE,CAAC;IAC3B,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IACjD,eAAe,CAAC,cAAc,EAAE,CAAC;IACjC,SAAS,GAAG,IAAI,CAAC;GAClB;EACD,OAAO,CAAC,SAAS,CAAC;CACnB;;AAED,eAAe,eAAe,CAAC;"}