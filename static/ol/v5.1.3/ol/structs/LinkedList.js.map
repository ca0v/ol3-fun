{"version":3,"file":"LinkedList.js","sources":["../../../src/ol/structs/LinkedList.js"],"sourcesContent":["/**\r\n * @module ol/structs/LinkedList\r\n */\r\n\r\n\r\n/**\r\n * @typedef {Object} Item\r\n * @property {module:ol/structs/LinkedList~Item} [prev]\r\n * @property {module:ol/structs/LinkedList~Item} [next]\r\n * @property {?} data\r\n */\r\n\r\n/**\r\n * @classdesc\r\n * Creates an empty linked list structure.\r\n */\r\nclass LinkedList {\r\n\r\n  /**\r\n   * @param {boolean=} opt_circular The last item is connected to the first one,\r\n   * and the first item to the last one. Default is true.\r\n   */\r\n  constructor(opt_circular) {\r\n\r\n    /**\r\n     * @private\r\n     * @type {module:ol/structs/LinkedList~Item|undefined}\r\n     */\r\n    this.first_;\r\n\r\n    /**\r\n     * @private\r\n     * @type {module:ol/structs/LinkedList~Item|undefined}\r\n     */\r\n    this.last_;\r\n\r\n    /**\r\n     * @private\r\n     * @type {module:ol/structs/LinkedList~Item|undefined}\r\n     */\r\n    this.head_;\r\n\r\n    /**\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.circular_ = opt_circular === undefined ? true : opt_circular;\r\n\r\n    /**\r\n     * @private\r\n     * @type {number}\r\n     */\r\n    this.length_ = 0;\r\n\r\n  }\r\n\r\n  /**\r\n   * Inserts an item into the linked list right after the current one.\r\n   *\r\n   * @param {?} data Item data.\r\n   */\r\n  insertItem(data) {\r\n\r\n    /** @type {module:ol/structs/LinkedList~Item} */\r\n    const item = {\r\n      prev: undefined,\r\n      next: undefined,\r\n      data: data\r\n    };\r\n\r\n    const head = this.head_;\r\n\r\n    //Initialize the list.\r\n    if (!head) {\r\n      this.first_ = item;\r\n      this.last_ = item;\r\n      if (this.circular_) {\r\n        item.next = item;\r\n        item.prev = item;\r\n      }\r\n    } else {\r\n      //Link the new item to the adjacent ones.\r\n      const next = head.next;\r\n      item.prev = head;\r\n      item.next = next;\r\n      head.next = item;\r\n      if (next) {\r\n        next.prev = item;\r\n      }\r\n\r\n      if (head === this.last_) {\r\n        this.last_ = item;\r\n      }\r\n    }\r\n    this.head_ = item;\r\n    this.length_++;\r\n  }\r\n\r\n  /**\r\n   * Removes the current item from the list. Sets the cursor to the next item,\r\n   * if possible.\r\n   */\r\n  removeItem() {\r\n    const head = this.head_;\r\n    if (head) {\r\n      const next = head.next;\r\n      const prev = head.prev;\r\n      if (next) {\r\n        next.prev = prev;\r\n      }\r\n      if (prev) {\r\n        prev.next = next;\r\n      }\r\n      this.head_ = next || prev;\r\n\r\n      if (this.first_ === this.last_) {\r\n        this.head_ = undefined;\r\n        this.first_ = undefined;\r\n        this.last_ = undefined;\r\n      } else if (this.first_ === head) {\r\n        this.first_ = this.head_;\r\n      } else if (this.last_ === head) {\r\n        this.last_ = prev ? this.head_.prev : this.head_;\r\n      }\r\n      this.length_--;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets the cursor to the first item, and returns the associated data.\r\n   *\r\n   * @return {?} Item data.\r\n   */\r\n  firstItem() {\r\n    this.head_ = this.first_;\r\n    if (this.head_) {\r\n      return this.head_.data;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n  * Sets the cursor to the last item, and returns the associated data.\r\n  *\r\n  * @return {?} Item data.\r\n  */\r\n  lastItem() {\r\n    this.head_ = this.last_;\r\n    if (this.head_) {\r\n      return this.head_.data;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * Sets the cursor to the next item, and returns the associated data.\r\n   *\r\n   * @return {?} Item data.\r\n   */\r\n  nextItem() {\r\n    if (this.head_ && this.head_.next) {\r\n      this.head_ = this.head_.next;\r\n      return this.head_.data;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * Returns the next item's data without moving the cursor.\r\n   *\r\n   * @return {?} Item data.\r\n   */\r\n  getNextItem() {\r\n    if (this.head_ && this.head_.next) {\r\n      return this.head_.next.data;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * Sets the cursor to the previous item, and returns the associated data.\r\n   *\r\n   * @return {?} Item data.\r\n   */\r\n  prevItem() {\r\n    if (this.head_ && this.head_.prev) {\r\n      this.head_ = this.head_.prev;\r\n      return this.head_.data;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * Returns the previous item's data without moving the cursor.\r\n   *\r\n   * @return {?} Item data.\r\n   */\r\n  getPrevItem() {\r\n    if (this.head_ && this.head_.prev) {\r\n      return this.head_.prev.data;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * Returns the current item's data.\r\n   *\r\n   * @return {?} Item data.\r\n   */\r\n  getCurrItem() {\r\n    if (this.head_) {\r\n      return this.head_.data;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  /**\r\n   * Sets the first item of the list. This only works for circular lists, and sets\r\n   * the last item accordingly.\r\n   */\r\n  setFirstItem() {\r\n    if (this.circular_ && this.head_) {\r\n      this.first_ = this.head_;\r\n      this.last_ = this.head_.prev;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Concatenates two lists.\r\n   * @param {module:ol/structs/LinkedList} list List to merge into the current list.\r\n   */\r\n  concat(list) {\r\n    if (list.head_) {\r\n      if (this.head_) {\r\n        const end = this.head_.next;\r\n        this.head_.next = list.first_;\r\n        list.first_.prev = this.head_;\r\n        end.prev = list.last_;\r\n        list.last_.next = end;\r\n        this.length_ += list.length_;\r\n      } else {\r\n        this.head_ = list.head_;\r\n        this.first_ = list.first_;\r\n        this.last_ = list.last_;\r\n        this.length_ = list.length_;\r\n      }\r\n      list.head_ = undefined;\r\n      list.first_ = undefined;\r\n      list.last_ = undefined;\r\n      list.length_ = 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the current length of the list.\r\n   *\r\n   * @return {number} Length.\r\n   */\r\n  getLength() {\r\n    return this.length_;\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default LinkedList;\r\n"],"names":["const"],"mappings":"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"}