{"version":3,"file":"Image.js","sources":["../../../src/ol/style/Image.js"],"sourcesContent":["/**\r\n * @module ol/style/Image\r\n */\r\n\r\n\r\n/**\r\n * @typedef {Object} Options\r\n * @property {number} opacity\r\n * @property {boolean} rotateWithView\r\n * @property {number} rotation\r\n * @property {number} scale\r\n * @property {boolean} snapToPixel\r\n */\r\n\r\n\r\n/**\r\n * @classdesc\r\n * A base class used for creating subclasses and not instantiated in\r\n * apps. Base class for {@link module:ol/style/Icon~Icon}, {@link module:ol/style/Circle~CircleStyle} and\r\n * {@link module:ol/style/RegularShape~RegularShape}.\r\n * @api\r\n */\r\nclass ImageStyle {\r\n  /**\r\n   * @param {module:ol/style/Image~Options} options Options.\r\n   */\r\n  constructor(options) {\r\n\r\n    /**\r\n    * @private\r\n    * @type {number}\r\n    */\r\n    this.opacity_ = options.opacity;\r\n\r\n    /**\r\n    * @private\r\n    * @type {boolean}\r\n    */\r\n    this.rotateWithView_ = options.rotateWithView;\r\n\r\n    /**\r\n    * @private\r\n    * @type {number}\r\n    */\r\n    this.rotation_ = options.rotation;\r\n\r\n    /**\r\n    * @private\r\n    * @type {number}\r\n    */\r\n    this.scale_ = options.scale;\r\n\r\n    /**\r\n    * @private\r\n    * @type {boolean}\r\n    */\r\n    this.snapToPixel_ = options.snapToPixel;\r\n\r\n  }\r\n\r\n  /**\r\n  * Get the symbolizer opacity.\r\n  * @return {number} Opacity.\r\n  * @api\r\n  */\r\n  getOpacity() {\r\n    return this.opacity_;\r\n  }\r\n\r\n  /**\r\n  * Determine whether the symbolizer rotates with the map.\r\n  * @return {boolean} Rotate with map.\r\n  * @api\r\n  */\r\n  getRotateWithView() {\r\n    return this.rotateWithView_;\r\n  }\r\n\r\n  /**\r\n  * Get the symoblizer rotation.\r\n  * @return {number} Rotation.\r\n  * @api\r\n  */\r\n  getRotation() {\r\n    return this.rotation_;\r\n  }\r\n\r\n  /**\r\n  * Get the symbolizer scale.\r\n  * @return {number} Scale.\r\n  * @api\r\n  */\r\n  getScale() {\r\n    return this.scale_;\r\n  }\r\n\r\n  /**\r\n  * Determine whether the symbolizer should be snapped to a pixel.\r\n  * @return {boolean} The symbolizer should snap to a pixel.\r\n  * @api\r\n  */\r\n  getSnapToPixel() {\r\n    return this.snapToPixel_;\r\n  }\r\n\r\n  /**\r\n  * Get the anchor point in pixels. The anchor determines the center point for the\r\n  * symbolizer.\r\n  * @abstract\r\n  * @return {Array.<number>} Anchor.\r\n  */\r\n  getAnchor() {}\r\n\r\n  /**\r\n  * Get the image element for the symbolizer.\r\n  * @abstract\r\n  * @param {number} pixelRatio Pixel ratio.\r\n  * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\r\n  */\r\n  getImage(pixelRatio) {}\r\n\r\n  /**\r\n  * @abstract\r\n  * @param {number} pixelRatio Pixel ratio.\r\n  * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\r\n  */\r\n  getHitDetectionImage(pixelRatio) {}\r\n\r\n  /**\r\n  * @abstract\r\n  * @return {module:ol/ImageState} Image state.\r\n  */\r\n  getImageState() {}\r\n\r\n  /**\r\n  * @abstract\r\n  * @return {module:ol/size~Size} Image size.\r\n  */\r\n  getImageSize() {}\r\n\r\n  /**\r\n  * @abstract\r\n  * @return {module:ol/size~Size} Size of the hit-detection image.\r\n  */\r\n  getHitDetectionImageSize() {}\r\n\r\n  /**\r\n  * Get the origin of the symbolizer.\r\n  * @abstract\r\n  * @return {Array.<number>} Origin.\r\n  */\r\n  getOrigin() {}\r\n\r\n  /**\r\n  * Get the size of the symbolizer (in pixels).\r\n  * @abstract\r\n  * @return {module:ol/size~Size} Size.\r\n  */\r\n  getSize() {}\r\n\r\n  /**\r\n  * Set the opacity.\r\n  *\r\n  * @param {number} opacity Opacity.\r\n  * @api\r\n  */\r\n  setOpacity(opacity) {\r\n    this.opacity_ = opacity;\r\n  }\r\n\r\n  /**\r\n  * Set whether to rotate the style with the view.\r\n  *\r\n  * @param {boolean} rotateWithView Rotate with map.\r\n  * @api\r\n  */\r\n  setRotateWithView(rotateWithView) {\r\n    this.rotateWithView_ = rotateWithView;\r\n  }\r\n\r\n  /**\r\n  * Set the rotation.\r\n  *\r\n  * @param {number} rotation Rotation.\r\n  * @api\r\n  */\r\n  setRotation(rotation) {\r\n    this.rotation_ = rotation;\r\n  }\r\n\r\n  /**\r\n  * Set the scale.\r\n  *\r\n  * @param {number} scale Scale.\r\n  * @api\r\n  */\r\n  setScale(scale) {\r\n    this.scale_ = scale;\r\n  }\r\n\r\n  /**\r\n  * Set whether to snap the image to the closest pixel.\r\n  *\r\n  * @param {boolean} snapToPixel Snap to pixel?\r\n  * @api\r\n  */\r\n  setSnapToPixel(snapToPixel) {\r\n    this.snapToPixel_ = snapToPixel;\r\n  }\r\n\r\n  /**\r\n  * @abstract\r\n  * @param {function(this: T, module:ol/events/Event)} listener Listener function.\r\n  * @param {T} thisArg Value to use as `this` when executing `listener`.\r\n  * @return {module:ol/events~EventsKey|undefined} Listener key.\r\n  * @template T\r\n  */\r\n  listenImageChange(listener, thisArg) {}\r\n\r\n  /**\r\n  * Load not yet loaded URI.\r\n  * @abstract\r\n  */\r\n  load() {}\r\n\r\n  /**\r\n  * @abstract\r\n  * @param {function(this: T, module:ol/events/Event)} listener Listener function.\r\n  * @param {T} thisArg Value to use as `this` when executing `listener`.\r\n  * @template T\r\n  */\r\n  unlistenImageChange(listener, thisArg) {}\r\n}\r\n\r\nexport default ImageStyle;\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;AAsBA,IAAM,UAAU,GAId,mBAAW,CAAC,OAAO,EAAE;;EAErB,AAAE;EACF,AAAE;EACF,AAAE;EACF,AAAE;EACF,AAAE,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC;;EAElC,AAAE;EACF,AAAE;EACF,AAAE;EACF,AAAE;EACF,AAAE,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,cAAc,CAAC;;EAEhD,AAAE;EACF,AAAE;EACF,AAAE;EACF,AAAE;EACF,AAAE,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC;;EAEpC,AAAE;EACF,AAAE;EACF,AAAE;EACF,AAAE;EACF,AAAE,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC;;EAE9B,AAAE;EACF,AAAE;EACF,AAAE;EACF,AAAE;EACF,AAAE,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,WAAW,CAAC;;AAE5C,AAAE,EAAC;;AAEH,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,iCAAU,GAAG;EACb,AAAE,OAAO,IAAI,CAAC,QAAQ,CAAC;AACzB,AAAE,EAAC;;AAEH,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,+CAAiB,GAAG;EACpB,AAAE,OAAO,IAAI,CAAC,eAAe,CAAC;AAChC,AAAE,EAAC;;AAEH,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,mCAAW,GAAG;EACd,AAAE,OAAO,IAAI,CAAC,SAAS,CAAC;AAC1B,AAAE,EAAC;;AAEH,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,6BAAQ,GAAG;EACX,AAAE,OAAO,IAAI,CAAC,MAAM,CAAC;AACvB,AAAE,EAAC;;AAEH,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,yCAAc,GAAG;EACjB,AAAE,OAAO,IAAI,CAAC,YAAY,CAAC;AAC7B,AAAE,EAAC;;AAEH,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,+BAAS,GAAG,GAAE;;AAEhB,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,6BAAQ,CAAC,UAAU,EAAE,GAAE;;AAEzB,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,qDAAoB,CAAC,UAAU,EAAE,GAAE;;AAErC,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,uCAAa,GAAG,GAAE;;AAEpB,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,qCAAY,GAAG,GAAE;;AAEnB,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,6DAAwB,GAAG,GAAE;;AAE/B,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,+BAAS,GAAG,GAAE;;AAEhB,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,2BAAO,GAAG,GAAE;;AAEd,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,iCAAU,CAAC,OAAO,EAAE;EACpB,AAAE,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;AAC5B,AAAE,EAAC;;AAEH,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,+CAAiB,CAAC,cAAc,EAAE;EAClC,AAAE,IAAI,CAAC,eAAe,GAAG,cAAc,CAAC;AAC1C,AAAE,EAAC;;AAEH,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,mCAAW,CAAC,QAAQ,EAAE;EACtB,AAAE,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;AAC9B,AAAE,EAAC;;AAEH,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,6BAAQ,CAAC,KAAK,EAAE;EAChB,AAAE,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;AACxB,AAAE,EAAC;;AAEH,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,yCAAc,CAAC,WAAW,EAAE;EAC5B,AAAE,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;AACpC,AAAE,EAAC;;AAEH,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,+CAAiB,CAAC,QAAQ,EAAE,OAAO,EAAE,GAAE;;AAEzC,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,qBAAI,GAAG,GAAE;;AAEX,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,AAAE;AACF,qBAAE,mDAAmB,CAAC,QAAQ,EAAE,OAAO,EAAE,EAAE,CAC1C;;AAED,eAAe,UAAU,CAAC;"}